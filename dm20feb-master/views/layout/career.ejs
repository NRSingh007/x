<%- include('../includes/header.ejs',{ 
    keywords: ['business claim','onwer claim','listing'] , 
    author: 'Digtal Manipur',
    description: `Claim your listing in Digital Manipur`
 }) %>
<link rel="stylesheet" href="/assets/css/career.css">
<link rel="stylesheet" href="/assets/css/site.css">
</head>

<body>

    <section class="outer-container">

        <header class="container " id="nav-header">
            <div></div>
            <div class="brand text-center ">
                <i class="far fa-times float-left text-dark close-header" onclick='$("#nav-header").hide()'></i>
                Digital Manipur
            </div>
            <ul class="nav navigations">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/site/about">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/site/career">
                        Careers

                    </a>
                    <div class="underline"></div>
                </li>
            </ul>

        </header>

        <div class="container " id="mobile-header">

            <i class="far fa-bars mb-0 text-light open-mobile-header"
                onclick='$("#nav-header").css("display","flex")'></i>


            <div class="brand text-center mx-auto">

                Digital Manipur
            </div>
        </div>

        <div class="landing-bg">
            <div class="overlay-bg"></div>
            <div class="container motto">
                <div class="h1">
                    Welcome to the most significant work of your life
                </div>
                <div class="h4">
                    We hustle every day to shape a sustainable future
                </div>
                <a href="/site/career/all" class="btn btn-danger rounded p-2 mt-3">View all Jobs
                    <i class="fas fa-caret-right ml-2"></i>
                </a>

            </div>
        </div>

    </section>

    <section class="outer-container row-two">
        <div class="container">
            <div class="row">
                <div class=" col-xs-12 col-md-5">
                    <img class="mx-auto img-fluid  rounded" src="/assets/img/careers1.jpg" alt="">
                </div>
                <div class=" mt-3 mt-md-0 col-xs-12 col-md-7 d-flex flex-column justify-content-center">
                    <h1 class="primary-header">Better service for more people</h1>
                    <h6 class="text-muted seconadry-header">At Digital Manipur, we're working on solving the challenges that take
                        us a step closer to our vision every day.</h6>
                </div>
            </div>
        </div>
    </section>

    <section class="outer-container row-two">
        <div class="row container trophy-container">
            <div class="col-12  col-md-4 mb-3 mb-sm-3 mb-md-0">
                <div class="stats rounded shadow">
                    <img src="/assets/img/world.png" alt="">
                    <span class="" id="statesCount"></span>States
                </div>

            </div>
            <div class="col-12 col-md-4 mb-3 mb-sm-3 mb-md-0 ">
                <div class="stats rounded shadow">
                    <img src="/assets/img/location.png" alt="">
                    <span class="" id="districtsCount"></span>Cities
                </div>
            </div>
            <div class="col-12 col-md-4 mb-3 mb-sm-3 mb-md-0">
                <div class="stats rounded shadow">
                    <img src="/assets/img/listing.png" alt="">
                    <span class="" id="postsCount"></span>Listings
                </div>
            </div>
        </div>

    </section>

    <section class="outer-container row-two">
        <div class="container">
            <h1 class="primary-header">Employee Benefits</h1>
            <div class="col px-0 mt-3">
                <div id="accordion">
                    <div class="card">
                        <div class="card-header">
                            <a class="card-link" data-toggle="collapse" href="#collapseOne">
                                Parental Leave Policy
                            </a>
                        </div>
                        <div id="collapseOne" class="collapse " data-parent="#accordion">
                            <div class="card-body">
                                For men and women at Digital Manipur, we offer 26 weeks paid leave. This policy also applies to non-birthing parents, and in cases of surrogacy, adoption, and same-sex partners. In addition to the above, new parents are also given an endowment of $1000, per child. In countries where the mandated leave policy is more than 26 weeks, the local regulations apply.
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <a class="collapsed card-link" data-toggle="collapse" href="#collapseTwo">
                                No Probation and Notice Periods
                            </a>
                        </div>
                        <div id="collapseTwo" class="collapse" data-parent="#accordion">
                            <div class="card-body">
                                There's no probation period for anyone who works with us at Digital Manipur. Additionally, we do not require employee to serve notice periods.
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <a class="collapsed card-link" data-toggle="collapse" href="#collapseThree">
                                Medical Coverage
                            </a>
                        </div>
                        <div id="collapseThree" class="collapse" data-parent="#accordion">
                            <div class="card-body">
                                The medical insurance at Digital Manipur covers all employees across all our locations. In some markets, it also covers their spouse and up to two children.
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <a class="collapsed card-link" data-toggle="collapse" href="#collapseFour">
                                In-office creche
                            </a>
                        </div>
                        <div id="collapseFour" class="collapse" data-parent="#accordion">
                            <div class="card-body">
                                An in-house creche and daycare facility is available in all our large offices.
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <a class="collapsed card-link" data-toggle="collapse" href="#collapseFive">
                                Food and Snacks
                            </a>
                        </div>
                        <div id="collapseFive" class="collapse" data-parent="#accordion">
                            <div class="card-body">
                                Digital Manipur offers free food and snacks to its employees in all our large offices.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="outer-container row-two">
        <div class="container">
            <h1 class="primary-header">Our Teams</h1>
            <div class="col px-0 mt-3 teams">
                <p class="text-muted"> 
                    What's your passion? We are looking for people in...
                </p>
                <div class="row two-columns">
                    <div class="col-xs-12 col-md-6 pr-md-3 mb-3  mb-sm-3 mb-md-0">
                        <div class="d-block ">
                            <img src="/assets/img/team1.jpg" alt="" class="img-fluid rounded">
                            <h4 class="mt-3">
                                Tech and Engineering
                            </h4>
                        </div>
                    </div>
                    
                    <div class="col-xs-12 col-md-6  pl-md-3 mb-3 mb-sm-3 mb-md-0">
                        <div class="d-block ">
                            <img src="/assets/img/team2.jpg" alt="" class="img-fluid rounded">
                            <h4 class="mt-3">
                                Product
                            </h4>
                        </div>
                    </div>

                </div>

                <div class="row three-columns mt-3">
                    <div class="col-xs-12 col-md-4 pr-md-3 mb-3  mb-sm-3 mb-md-0">
                        <div class="d-block ">
                            <img src="/assets/img/team3.jpg" alt="" class="img-fluid rounded">
                            <h4 class="mt-3">
                                Design
                            </h4>
                        </div>
                    </div>
                    
                    <div class="col-xs-12 col-md-4  pl-md-3 mb-3 mb-sm-3 mb-md-0">
                        <div class="d-block ">
                            <img src="/assets/img/team4.jpg" alt="" class="img-fluid rounded">
                            <h4 class="mt-3">
                                Brand and Marketing
                            </h4>
                        </div>
                    </div>

                    <div class="col-xs-12 col-md-4  pl-md-3 mb-3 mb-sm-3 mb-md-0">
                        <div class="d-block ">
                            <img src="/assets/img/team5.jpg" alt="" class="img-fluid rounded">
                            <h4 class="mt-3">
                                Content and Editorials
                            </h4>
                        </div>
                    </div>

                </div>
                <a href="/site/career/all" class="btn btn-outline-danger rounded p-2 px-3 mt-3">View all Jobs
                    <i class="fas fa-caret-right ml-2"></i>
                </a>

            </div>
        </div>

       
    </section>

    
    <%- include('./../includes/alert'); %>

    <!-- <section>
        <div class="container">
            <div class="my-3 path"><a href="/">Home</a><span class="mx-2">&gt;</span><a href="#">Careers</a></div>
            <div class="col mt-3 cus-panel px-0 rounded bg-white">
                <div class="bg-img claim-img-lanscape"
                    style="background-image: url('/assets/img/social-media-busineess.jpg'); min-height: 200px;"></div>
                <div class="row d-flex flex-column align-items-center my-5">
                    <div class="col-sm-12 col-xs-12 col-md-7 px-5">
                        <div class="text-center " style="font-size: 30px; font-weight: light;">Welcome to <b>Digital
                                Manipur</b></div>
                        <p class="text-center my-3"></p>
                        <p class="display-4 text-center text-secondary  " style="letter-spacing: 0px;font-size: 18px;">
                            Join us in building the future of Digital Manipur. Working at Digital
                            Manipur means feeling empowered to make a difference and inspired to bring innovation.</p>
                    </div>
                </div>
            </div>

            <div class="my-5 bg-white border p-4 ">
                <h3 class="text-uppercase text-center mb-5">Current job opportunities</h3>
                <div class="jobs px-sm-0 px-md-3">
                    <% if ( careers && careers.length > 0 ) { %>
                    <div class="jobs-header  d-flex flex-row py-0">
                        <div class="col-5 font-weight-bold text-secondary">JOB TITLE</div>
                        <div class="col-3 font-weight-bold text-secondary">DEPARTMENT</div>
                        <div class="col-4 font-weight-bold text-secondary">LOCATION</div>
                    </div>
                    <% for ( let job of careers) { %>
                    <div class="job d-flex flex-row  py-2">
                        <div class="text-break text-wrap font-weight-bold col-5"> <%= job.role %> </div>
                        <div class="text-break text-wrap text-muted col-3"> <%= job.department %> </div>
                        <div class="text-break text-wrap text-muted col-4">
                            <div class="row">
                                <div class="col text-break text-wrap">
                                    <%= job.location %>
                                </div>
                                <div class="col">
                                    <span data-id="<%= job._id %>"
                                        class="float-right p-2 badge badge-info more-info shadow-none">More info</span>
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="" style="display: none;" id="desc-<%= job._id %>">
                        <pre style="width: 100%; overflow-x: auto;
                            white-space: pre-wrap;
                            white-space: -moz-pre-wrap;
                            white-space: -pre-wrap;
                            white-space: -o-pre-wrap;
                            word-wrap: break-word;"><%= job.description %></pre>
                    </div>
                    <% } %>
                    <% } else { %>
                    <div class="py-4 text-center">
                        <p>There are no jobs opening at the moment.</p>
                    </div>
                    <% }  %>
                </div>

            </div>


            <% if ( careers && careers.length > 0 ) { %>
            <div class="mt-5 bg-white p-4">
                <h3 class="text-uppercase text-center mb-5">Apply job </h3>
                
                <form id="applyJob" action="/site/career/job/apply" method="POST" enctype="multipart/form-data">

                    <div class="row justify-content-center">
                        <div class="col-xs-12 col-md-10 col-lg-8">
                            
                            <div class="form-group row mx-0">
                                <div class="col-xs-12 col-lg-3 d-flex align-items-center justify-content-center">
                                    <label for="" class="font-weight-bold text-muted float-right">Select Post</label>
                                </div>
                                <div class="col-xs-12 col-lg-8">
                                    <select name="role" class="form-control">
                                        <% for ( let job of careers) { %>
                                        <option value="<%= job.role %>">
                                            <div class="text-break">
                                                <%= job.role %>
                                            </div>
                                        </option>
                                        <% } %>
                                    </select>
                                </div>

                            </div>
                            <div class="form-group row mx-0">
                                <div class="col-xs-12 col-lg-3 d-flex align-items-center justify-content-center">
                                    <label for="" class="font-weight-bold text-muted float-right">Full name</label>
                                </div>
                                <div class="col-xs-12 col-lg-8">
                                    <input type="text" name="fullName" class="form-control">
                                </div>
                            </div>
                            <div class="form-group row mx-0">
                                <div class="col-xs-12 col-lg-3 d-flex align-items-center justify-content-center">
                                    <label for="" class="font-weight-bold text-muted float-right">Email</label>
                                </div>
                                <div class="col-xs-12 col-lg-8">
                                    <input type="text" name="email" class="form-control">
                                </div>
                            </div>
                            <div class="form-group row mx-0">
                                <div class="col-xs-12 col-lg-3 d-flex align-items-center justify-content-center">
                                    <label for="" class="font-weight-bold text-muted float-right">Mobile</label>
                                </div>
                                <div class="col-xs-12 col-lg-8">
                                    <input type="number" name="mobile" class="form-control">
                                </div>
                            </div>
                            <div class="form-group row mx-0">
                                <div class="col-xs-12 col-lg-3 d-flex align-items-center justify-content-center">
                                    <label for="" class="font-weight-bold text-muted float-right">Address</label>
                                </div>
                                <div class="col-xs-12 col-lg-8">
                                    <input type="text" name="address" class="form-control">
                                </div>
                            </div>
                            <div class="form-group row mx-0">
                                <div class="col-xs-12 col-lg-3 d-flex align-items-center justify-content-center">
                                    <label for="" class="font-weight-bold text-muted float-right">Qualification</label>
                                </div>
                                <div class="col-xs-12 col-lg-8">
                                    <input type="text" name="qualification" class="form-control">
                                </div>
                            </div>
                            <div class="form-group row mx-0">
                                <div class="col-xs-12 col-lg-3 d-flex align-items-start justify-content-center">
                                    <label for="" class="font-weight-bold text-muted float-right">Resume</label>
                                </div>
                                <div class="col-xs-12 col-lg-8">
                                    <div class="custom-file">
                                        <input type="file" name="resume" accept=".docx,.pdf" class="custom-file-input"
                                            id="customFile">
                                        <label class="custom-file-label" for="customFile" style="overflow-x: hidden;"
                                            class="text-truncate custom-file-label">Choose file</label>
                                    </div>
                                   <script>
                                        // Add the following code if you want the name of the file appear on select
                                        $(".custom-file-input").on("change", function () {
                                            var fileName = $(this).val().split("\\").pop();
                                            $(this).siblings(".custom-file-label").addClass("selected").html(
                                                fileName);
                                        });
                                    </script>
                                </div>
                            </div>
                            <div class="my-3 text-center small text-danger text-italicize"> * All input fields are required. And maximum file size is 5mb.</div>

                            <div class="form-group row justify-content-center mt-4">
                                <button id="submitApplication" class="btn btn-success px-5 rounded"
                                    style="border-radius: 25px !important;">Submit</button>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
            <% }  %>



        </div>
    </section> -->



    <script>
        $(document).ready(e => {
            fixedSeeMores();
        });

        function getRows(selector) {
            var height = selector.scrollHeight;
            var line_height = $(selector).css('line-height');
            line_height = parseFloat(line_height);
            return Math.round(height / line_height);
        }

        function fixedSeeMores() {
            const messsages = $(".message-body");

            for (let i = 0; i < messsages.length; i++) {
                console.log("Rows : ", getRows(messsages[i]));
                if (getRows(messsages[i]) <= 5) {
                    $(messsages[i]).siblings('button').hide();
                }
            }


        }


        $(document).on('click', '.see-more-message', e => {
            $(e.target).siblings('.message-body').toggleClass('see-less');
            const text = $(e.target).html();
            $(e.target).html(text == 'see more' ? 'see less' : 'see more');

        });


        $(".more-info").click(e => {
            const id = $(e.target).data('id');
            if (id) {
                $("#desc-" + id).toggle();
            }
        });


       

        function showSuccessAlert(message) {
            $(".alert-container").show();
            $(".alert-success .message").html(message);
            $(".alert-success").show();

            setTimeout(() => {
                $(".alert-container").hide();
                $(".alert-success").hide();
            }, 1500);

        }

        function showDangerAlert(message) {
            $(".alert-container").show();
            $(".alert-danger .message").html(message);
            $(".alert-danger").show();
            setTimeout(() => {
                $(".alert-container").hide();
                $(".alert-danger").hide();
            }, 1500);
        }

        function showInfoAlert(message) {
            $(".alert-container").show();
            $(".alert-info .message").html(message);
            $(".alert-info").show();
            setTimeout(() => {
                $(".alert-container").hide();
                $(".alert-info").hide();
            }, 1500);
        }
    </script>

    <script>
        // fetch stats
        $(document).ready(e => {


            // add down arrow in card header
            let cardHeaders = $('.card-header');
            for( let i =0 ; i < cardHeaders.length ; i++ ) {
                console.log(cardHeaders[i]);
                $(cardHeaders[i]).append(
                    `<i class="far small fa-angle-down float-right"></i>`
                );
            };

            // event listener to change arrow angle in card headers
            $(".card-link").click(e=>{
                e.preventDefault();
                console.log("card link sibling : ",$(e.target).siblings('i')[0]);
                let item = $(e.target).siblings('i')[0];
                if ($(item).hasClass('fa-angle-down') ) {
                    // $(e.target).siblings('i').remove();
                    // $(e.target).parent('.card-header').append(
                    //     `<i class="far small fa-angle-right float-right"></i>`
                    //  );
                    $(item).removeClass('fa-angle-down');
                    $(item).addClass('fa-angle-right');
                }
                if ($(e.target).siblings('i').hasClass('fa-angle-right') ) {
                    $(e.target).siblings('i').remove();
                    $(e.target).parent('div').append(
                        `<i class="far small fa-angle-down float-right"></i>`
                     );
                }
            });


            const rootDomain =
                `${location.protocol}//${window.location.hostname}${location.port ? ':' + location.port : ''}`;

            $(".trophy-container").hide();

            $.get(`${rootDomain}/site/stats`, (res, status) => {
                if (status == 'success') {
                    console.log({
                        res
                    });
                    const data = res.data ? res.data : null;
                    if (data) {
                        $(".trophy-container").show();
                        $("#statesCount").text(data.states.count + '' + data.states.symbol);
                        $("#districtsCount").text(data.districts.count + '' + data.districts.symbol);
                        $("#postsCount").text(data.posts.count + '' + data.posts.symbol);

                    }

                }
            })
        });
    </script>
    <%- include('../includes/footer.ejs') %>


</body>

</html>



